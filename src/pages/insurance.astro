---
import Base from '../layouts/Base.astro';
---

<Base title="Insurance Program — Trion Holdings" description="The Trion Holdings Insurance Program connects partners with preferred brokers and carriers to access competitive rates and tailored coverage across property, liability, umbrella, and specialty policies.">
  <main>

    <!-- Top Banner -->
    <section class="relative flex min-h-[50vh] md:min-h-[70vh] w-full items-center justify-center bg-cover bg-center" style="background-image: url('/banner-bg-2.jpg');">
        <div class="absolute inset-0 bg-gradient-to-b from-[#1A1919]/80 via-[#1A1919]/65 to-[#1A1919]"></div>
        <div class="relative z-10 max-w-3xl px-4 mb-20 mt-52 text-center text-white">
            <h1 class="text-4xl font-bold sm:text-5xl md:text-6xl">
                Insurance Program
            </h1>
            <p class="mt-4 text-lg sm:text-xl">
                At Trion Holdings, we understand that protecting real estate and business investments requires trusted insurance solutions. That's why we've created the Trion Holdings Insurance Program—an exclusive service that connects our partners with our network of preferred insurance brokers and carriers.
            </p>
        </div>
    </section>
    <!-- Section Separator -->
    <div>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1440 193"><path fill="#e3ba63" d="m0 74.286 987.143 46.19L980 169.048 0 186.667z"/><path fill="#1a1919" d="M0 0h1440v64.286l-221.43 128.571L0 76.191z"/></svg>
    </div>





    <!-- Top Banner Section -->
    <section class="bg-white px-4 py-16 md:py-32 mb-6 md:-mb-14 xl:-mb-20 color-copy z-0" style="z-index: -1;">
        <div class="max-width mx-auto flex flex-row flex-wrap md:flex-nowrap gap-12 items-center justify-between">
            <div class="w-full md:w-1/2">
                <h2 class="text-3xl sm:text-4xl md:text-5xl mb-4 mt-8 md:mt-14">
                    Insurance Program
                </h2>
                <div class="w-20 h-1 bg-[#E3BA63] mb-6"></div>
                <p class="leading-6 text-lg mb-4">
                    An exclusive service that connects our partners with our network of preferred insurance brokers and carriers.
                </p>
                <p class="leading-6 text-lg">
                    Through the scale of our portfolio and long-standing industry relationships, we give access to competitive pricing and tailored coverages that may not be available on the open market. Our partners benefit from the same leverage we use to manage our own real estate assets and businesses, ensuring comprehensive protection and cost savings.
                </p>
            </div>
            
            <div class="w-full md:w-1/2 h-1/2 md:h-full block">
                <img src="/insurance.webp" alt="Trion Insurance Program" class="w-full h-auto object-cover z-0" decoding="async" width="616" height="639" />
            </div>
        </div>
    </section>

    <!-- Section Separator -->
    <div class="w-full overflow-hidden -mb-[2px] z-1" style="z-index: 10;">
        <svg xmlns="http://www.w3.org/2000/svg" role="presentation" fill="none" preserveAspectRatio="none" viewBox="0 0 682 50" class="w-full aspect-[682/50]"><path fill="#1A1919" d="M0 44.796h224.176L682 0v50H0v-5.204Z"/></svg>

    </div>


    <!-- Scale, Expertise, Trust -->
    <section class="bg-[#1A1919] text-white px-4 py-20 z-2" style="z-index: 20;">
        <div class=" max-width mx-auto">
        <!-- Heading -->
        <div class="text-center mb-12">
            <h2 class="text-3xl sm:text-4xl">
            Built on Trion's Scale, Expertise, and Trust
            </h2>
            <div class="w-20 h-1 bg-[#E3BA63] mt-4 mx-auto"></div>
        </div>

        <!-- 4 content columns -->
        <div class="grid md:grid-cols-4 gap-16 md:gap-10 items-start">
            <!-- Column 1 -->
            <div class="text-center">
                <svg class="w-12 h-12 mx-auto" xmlns="http://www.w3.org/2000/svg" role="presentation" fill="none" viewBox="0 0 48 48"><g clip-path="url(#a)"><circle cx="24" cy="24" r="24" fill="#CD962B"/><path fill="#fff" d="m24 14.916 7.532 1.674a.917.917 0 0 1 .718.895v9.155a5.5 5.5 0 0 1-2.45 4.576L24 35.083l-5.8-3.867a5.501 5.501 0 0 1-2.45-4.575v-9.156a.917.917 0 0 1 .718-.895L24 14.916Zm0 1.879-6.417 1.425v8.42a3.667 3.667 0 0 0 1.633 3.05L24 32.88l4.784-3.19a3.666 3.666 0 0 0 1.633-3.05v-8.42L24 16.795Zm4.081 4.742 1.297 1.296-5.834 5.834-3.889-3.89 1.296-1.296 2.593 2.592 4.537-4.536Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h48v48H0z"/></clipPath></defs></svg>
                <h3 class="text-xl font-semibold mt-6 mb-2">Top-Tier Insurance Partners</h3>
                <p>
                    Get direct access to preferred brokers and carriers with deep expertise in real estate and commercial coverage.
                </p>
            </div>

            <!-- Column 2 -->
            <div class="text-center">
                <svg class="w-12 h-12 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48" role="presentation"><g clip-path="url(#a)"><circle cx="24" cy="24" r="24" fill="#CD962B"/><path fill="#fff" d="m18.314 31.527-4.034-8.384a.917.917 0 0 1 .142-1.008l6.188-6.947 12.709 1.786a.917.917 0 0 1 .78 1.035l-2.041 14.524a.917.917 0 0 1-1.036.78l-12.708-1.786Zm1.226-1.679 10.83 1.522 1.786-12.708-10.83-1.522-5.13 5.759 3.344 6.95Zm7.581-1.711 1.021-7.262 1.816.255-1.021 7.262-1.816-.255Zm-2.723-.383 1.02-7.262 1.816.255-1.02 7.262-1.816-.255Zm-1.305-3.886a1.833 1.833 0 1 1-3.63-.51 1.833 1.833 0 0 1 3.63.51Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h48v48H0z"/></clipPath></defs></svg>
                <h3 class="text-xl font-semibold mt-6 mb-2">Volume-Based Pricing Advantage</h3>
                <p>
                    Leverage the collective power of the Trion Holdings portfolio to unlock more competitive rates than you'd typically get as a standalone policyholder.
                </p>
            </div>

            <!-- Column 3 -->
            <div class="text-center">
                <svg class="w-12 h-12 mx-auto" xmlns="http://www.w3.org/2000/svg" role="presentation" fill="none" viewBox="0 0 48 48"><g clip-path="url(#a)"><circle cx="24" cy="24" r="24" fill="#CD962B"/><path fill="#fff" d="M24.915 14.879a9.167 9.167 0 0 1 8.25 9.12v.918h-8.25v5.5a1.833 1.833 0 1 0 3.666 0V29.5h1.834v.916a3.666 3.666 0 1 1-7.334 0v-5.5h-8.25V24a9.167 9.167 0 0 1 8.25-9.121v-.046a.917.917 0 0 1 1.834 0v.046Zm6.36 8.204a7.334 7.334 0 0 0-14.553 0h14.553Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h48v48H0z"/></clipPath></defs></svg>
                <h3 class="text-xl font-semibold mt-6 mb-2">Comprehensive Coverage Options</h3>
                <p>
                    Choose from a wide range of property, liability, umbrella, and specialty policies — tailored to the specific risks and requirements of your business or portfolio.
                </p>
            </div>

            <!-- Column 4 -->
            <div class="text-center">
                <svg class="w-12 h-12 mx-auto" xmlns="http://www.w3.org/2000/svg" role="presentation" fill="none" viewBox="0 0 48 48"><g clip-path="url(#a)"><circle cx="24" cy="24" r="24" fill="#CD962B"/><path fill="#fff" d="M24 33.167A9.166 9.166 0 0 1 14.833 24 9.166 9.166 0 0 1 24 14.834 9.166 9.166 0 0 1 33.167 24 9.166 9.166 0 0 1 24 33.167Zm0-1.834a7.333 7.333 0 1 0 0-14.666 7.333 7.333 0 0 0 0 14.666Zm4.125-11.458-2.292 5.959-5.958 2.291 2.292-5.958 5.958-2.292ZM24 24.917a.916.916 0 1 0 0-1.833.916.916 0 0 0 0 1.833Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h48v48H0z"/></clipPath></defs></svg>
                <h3 class="text-xl font-semibold mt-6 mb-2">Aligned with Trion's Expertise</h3>
                <p>
                    Enjoy peace of mind knowing your coverage is designed with the same standards and scrutiny we apply to our own holdings — because your risk is our risk.
                </p>
            </div>
        </div>

        </div>
    </section>

    


    <!-- Two-Tone Section Separator -->
    <div class="w-full overflow-hidden">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1512 153"><path fill="#fff" d="M0 8h1512v145H0z"/><path fill="#CD962B" d="M800.5 46 1512 6v139L800.5 46Z"/><path fill="#1A1919" d="M0 11.917V0h1512v11.917L327 72 0 11.917Z"/></svg>
    </div>
    
    <!-- Contact Section -->
    <section id="contact" class="px-4 scroll-mt-24">
        <h2 class="text-4xl font-semibold text-center mb-4 mt-12">Get Started</h2>
        
        <p class="text-center max-w-xl mx-auto mb-12">To learn more about the Trion Holdings Insurance Program or to explore coverage options, please provide the following details:</p>

        <div class="max-w-2xl mx-auto">
            <div id="insurance-success" class="hidden mb-6 rounded-md border border-green-200 bg-green-50 text-green-900 px-4 py-3" role="status" aria-live="polite">
                <strong>Message received.</strong> Someone from our office will get back to you within 2 business days.
            </div>
            <form class="space-y-6" aria-label="Insurance contact form" name="insurance-contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/insurance/?success=true#contact">
                <input type="hidden" name="form-name" value="insurance-contact" />
                <!-- honeypot -->
                <input type="hidden" name="bot-field" />
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">First Name*</label>
                        <input type="text" id="firstName" name="firstName" required class="w-full border border-gray-300 rounded px-4 py-3 placeholder-gray-400" />
                    </div>
                    <div>
                        <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name*</label>
                        <input type="text" id="lastName" name="lastName" required class="w-full border border-gray-300 rounded px-4 py-3 placeholder-gray-400" />
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address*</label>
                        <input type="email" id="email" name="email" required class="w-full border border-gray-300 rounded px-4 py-3 placeholder-gray-400" />
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number*</label>
                        <input type="tel" id="phone" name="phone" required placeholder="(111) 222-3333" class="w-full border border-gray-300 rounded px-4 py-3 placeholder-gray-400" />
                    </div>
                </div>

                <div>
                    <label for="policyType" class="block text-sm font-medium text-gray-700 mb-1">Insurance Policy Type*</label>
                    <select id="policyType" name="policyType" required class="w-full border border-gray-300 rounded px-4 py-3 bg-white">
                        <option value="property" selected>Property Insurance</option>
                        <option value="liability">Liability Insurance</option>
                        <option value="umbrella">Umbrella Insurance</option>
                        <option value="specialty">Specialty Insurance</option>
                    </select>
                </div>

                <div>
                    <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message*</label>
                    <textarea id="message" name="message" rows="6" required class="w-full border border-gray-300 rounded px-4 py-3 placeholder-gray-400"></textarea>
                </div>

                <div>
                    <button type="submit" id="insurance-submit" class="bg-[#CD962B] text-white font-semibold px-6 py-3 rounded-lg shadow hover:bg-[#b88a2a] transition text-lg">Request a Callback</button>
                </div>
            </form>
        </div>
    </section>

  </main>
</Base>

<script>
// Phone input masking and validation for the insurance contact form
(function(){
    // If redirected back with success parameter, skip validation setup
    try {
        const params = new URLSearchParams(window.location.search);
        if (params.get('success') === 'true') return;
    } catch (e) {}
        const phoneEl = document.getElementById('phone');
        const formEl = document.querySelector('form[name="insurance-contact"]');
        if (!(phoneEl instanceof HTMLInputElement) || !(formEl instanceof HTMLFormElement)) return;
        const phone = phoneEl;
        const form = formEl;

    function onlyDigits(value){ return value.replace(/\D/g, ''); }

    function formatPhone(value){
        const d = onlyDigits(value).slice(0,10);
        if (!d) return '';
        if (d.length < 4) return '(' + d;
        if (d.length < 7) return '(' + d.slice(0,3) + ') ' + d.slice(3);
        return '(' + d.slice(0,3) + ') ' + d.slice(3,6) + '-' + d.slice(6,10);
    }

    phone.addEventListener('input', (e)=>{
        const raw = phone.value;
        phone.value = formatPhone(raw);
        // try to restore cursor (best-effort)
        try{ if (typeof phone.setSelectionRange === 'function') phone.setSelectionRange(phone.value.length, phone.value.length); }catch(e){}
    });

    function isValidPhone(val){ return onlyDigits(val).length === 10; }

    form.addEventListener('submit', (e)=>{
        // remove previous error
        const prev = form.querySelector('.phone-error');
        if (prev) prev.remove();

            if (!isValidPhone(phone.value)){
            e.preventDefault();
            const err = document.createElement('div');
            err.className = 'phone-error text-sm text-red-600 mt-2';
            err.textContent = 'Please enter a valid 10-digit phone number.';
                if (phone.parentNode) phone.parentNode.appendChild(err);
            phone.focus();
            return false;
        }
        return true;
    });
})();

// Show success message and hide form when ?success=true
document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    if (params.get('success') === 'true'){
        const successBox = document.getElementById('insurance-success');
        const form = document.querySelector('form[name="insurance-contact"]');
        if (successBox) {
            successBox.classList.remove('hidden');
            // Ensure it is reachable by focus then focus it for screen readers
            successBox.setAttribute('tabindex', '-1');
        }
        if (form) form.classList.add('hidden');
        // Scroll into view of the contact section/success box
        const contact = document.getElementById('contact');
        const target = successBox || contact;
        if (target && typeof target.scrollIntoView === 'function') {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        // After a brief delay, move focus to the success box for accessibility
        if (successBox && typeof successBox.focus === 'function') {
            setTimeout(() => successBox.focus(), 300);
        }
    }
});
</script>